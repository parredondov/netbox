{% load helpers %}

<ul class="navbar-nav pt-lg-3">
  {% for menu, groups in nav_items %}
    <li class="nav-item dropdown">

      {# Menu heading #}
      <a class="nav-link dropdown-toggle" href="#navbar-base" data-bs-toggle="dropdown" data-bs-auto-close="false" role="button" aria-expanded="false" >
        <span class="nav-link-icon d-md-none d-lg-inline-block">
          <i class="{{ menu.icon_class }}"></i>
        </span>
        <span class="nav-link-title">
          {{ menu.label }}
        </span>
      </a>

      {# Menu groups #}
      <div class="dropdown-menu">
        <div class="dropdown-menu-columns">
          <div class="dropdown-menu-column">
            {% for group, items in groups %}
              <div class="hr-text dropdown-item m-0 px-2">
                <span>{{ group.label }}</span>
              </div>
              {% for item, buttons in items %}
                <div class="dropdown-item d-flex justify-content-between ps-3">
                  <a href="{% url item.link %}" class="d-inline-flex flex-fill">{{ item.link_text }}</a>
                  {% if buttons %}
                    <div class="btn-group ms-1">
                      {% for button in buttons %}
                        <a href="{% url button.link %}" class="btn btn-sm btn-{{ button.color }} lh-2" title="{{ button.title }}">
                          <i class="{{ button.icon_class }}"></i>
                        </a>
                      {% endfor %}
                    </div>
                  {% endif %}
                </div>
              {% endfor %}
            {% endfor %}
          </div>
        </div>
      </div>

    </li>
  {% endfor %}
</ul>
